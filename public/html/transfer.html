<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/transfer.css">
    <title>OCBC - Transfer Money</title>

    <!-- Import Google Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

</head>

<body>
    <!-- Header Section -->
    <header class="header">
        <div class="logo">
            <img src="../pics/ocbc-bg.png" alt="OCBC Logo">
        </div>

        <div class="header-right">
            <div class="language-switch">
                <a href="transferchi.html" class="language-btn">中文</a>
            </div>
            <div class="logout">
                <button id="logout-btn"> 
                    Logout
                    <img src="../pics/logout.png" alt="Logout Icon" class="login-icon">
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Section -->
    <main>
        <div class="container">
            <!-- Welcome message -->
            <div class="welcome">Welcome, <span id="user-name"></span></div>

            <!-- What would you like to do today? -->
            <h2 class="welcome-message">What would you like to do today?</h2>
            <!-- Navigation bar -->
            <div class="navbar">
                <a href="../html/accountseng.html">
                    <img src="../pics/view-account.png" alt="View Icon">
                    View Accounts</a>
                <a href="../html/transfer.html" class="active">
                    <img src="../pics/transfer-money.png" alt="Transfer Money Icon">
                    Transfer Money</a>
                <a href="../html/investmenteng.html">
                    <img src="../pics/investment.png" alt="Investments Icon">
                    Investments</a>
            </div>

        </div>
        <div class="transfer-container">
            <h2>Transfer and Payments</h2>
            <form>
                <!-- Make a transfer from -->
                <div class="form-group">
                    <label for="transfer-from">1. Make a transfer from</label>
                    <select id="transfer-from">
                        <option value="" disabled selected>Select an account</option>
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>

                <!-- Transferring money to -->
                <div class="form-group">
                    <label>2. Send Money Using:</label>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="transfer-to" value="mobile" onclick="toggleInput('mobile')">
                            Mobile number
                        </label>
                        <label>
                            <input type="radio" name="transfer-to" value="nric" onclick="toggleInput('nric')">
                            NRIC
                        </label>
                    </div>
                    
                    <!-- Transfer input group with text box below the options -->
                    <div class="transfer-input-group" style="display: none;">
                        <input type="text" id="mobile" class="input-box" placeholder="Enter mobile number" style="display: none;">
                        <input type="text" id="nric" class="input-box" placeholder="Enter NRIC" style="display: none;">
                        <button type="button" id="enterBtn" class="enter-btn" onclick="fetchUserData()">Verify</button>
                    </div>

                    <!-- Display recipient name below the input group -->
                    <p id="name" style="display: none;">Recipient Name: <span id="user-namee" style="font-weight: bold;"></span></p>
                    <p id="error" style="display: none; color: red; font-weight: bold;"></p>
                </div>

                <!-- Amount and Description -->
                <div class="form-group">
                    <label for="amount">3. Amount to Transfer:</label>
                    <div id="balance" class="balance-display" style="display: none;">
                        Current Balance: <b><span id="balance-amount"></span> SGD</b>
                    </div>
                    <div class="amount-transfer">
                        <input type="text" id="amount" placeholder="Amount (SGD)">
                    </div>
                </div>

                <div class="form-group">
                    <label for="description">4. Description of Transfer:</label>
                    <p style="padding-bottom:5px;">Can include the purpose and your name (e.g. Tuition payment - JANE SMITH).</p>
                    <!-- Description input field to be filled with dynamic value -->
                    <input type="text" id="description" placeholder="Description">
                    <!-- Checkbox for saving as a favorite transaction -->
                    <label>
                        <input type="checkbox" id="status-checkbox"> Enable 24-Hour Delay Transfer (Optional)
                        <span class="info-icon">What is this?
                            <span class="tooltip-text">This option delays the transfer by 24 hours. During this period, you can cancel the transaction 
                                if needed. After 24 hours, the funds will be sent and deducted from your account automatically.</span>
                        </span>
                    </label> 
                </div>

                <!-- Transfer button -->
                <div class="form-group">
                    <button type="submit" class="transfer-btn">Transfer</button>
                </div>
            </form>
            <div id="update-msg" style="display: none;">
                <div class="alert alert-success" role="alert">
                    <dotlottie-player src="https://lottie.host/3a0e448a-e059-491a-ba78-53734f104751/5XWEjdqtkJ.json" background="transparent" speed="0.7" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
                </div>
            </div>
            
        </div>
    </main>

    <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>
    <script src="../js/transferform.js"></script>
    <script src="../js/transfer.js"></script>
</body>
</html>
